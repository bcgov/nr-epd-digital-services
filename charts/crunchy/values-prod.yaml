# Only ovverride values-test.yaml if the environment is TEST with the following values as a delta:
crunchy: # enable it for TEST and PROD, for PR based pipelines simply use single postgres
  instances:
    dataVolumeClaimSpec:
      storage: 600Mi
      storageClassName: netapp-block-standard
      walStorage: 350Mi

  pgBackRest:
    backupPath: /backups/prod/cluster/version # change it for PROD, create values-prod.yaml
    s3:
      enabled: false
      retention: 7 # one week backup in object store for prod environment
      bucket: kibble
      endpoint: nrs.objectstore.gov.bc.ca
      accessKey: ~
      secretKey: ~
      fullBackupSchedule: 0 9 * * * # full backup at GMT 9
      incrementalBackupSchedule: 0 0/4 * * * # every four hours
    pvc:
      enabled: true
      volume:
        accessModes: "ReadWriteOnce"
        storage: 1024Mi
        storageClassName: netapp-file-backup
  # Postgres Cluster resource values:
  pgmonitor:
    enabled: true
