-- Generated by Ora2Pg, the Oracle database Schema converter, version 24.1
-- Copyright 2000-2023 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=nrcdb01.bcgov;service_name=SD57387.NRS.BCGOV;port=1521

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON



CREATE TABLE activity_cd (
	code varchar(6) NOT NULL,
	protcat_code varchar(40) NOT NULL,
	description varchar(80) NOT NULL
) ;
CREATE UNIQUE INDEX act_cd_act_prot_combined ON activity_cd (protcat_code, code);
CREATE INDEX act_cd_protcat_frgn ON activity_cd (protcat_code);
ALTER TABLE activity_cd ADD PRIMARY KEY (code);
ALTER TABLE activity_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE activity_cd ALTER COLUMN protcat_code SET NOT NULL;
ALTER TABLE activity_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE aec_assessments (
	site_id bigint NOT NULL,
	area_id varchar(40) NOT NULL,
	assessment_date timestamp(0),
	location varchar(255),
	water_flow varchar(10),
	monitoring_wells char(1),
	dnapl char(1),
	lnapl char(1),
	area double precision,
	migration_potential varchar(4),
	who_created varchar(30),
	when_created timestamp(0),
	when_updated timestamp(0),
	who_updated varchar(30),
	rwm_flag smallint NOT NULL,
	rwm_migrate_flag smallint NOT NULL
) ;
CREATE INDEX aecass_site_id_frgn_frgn ON aec_assessments (site_id);
ALTER TABLE aec_assessments ADD PRIMARY KEY (site_id,area_id);
ALTER TABLE aec_assessments ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_assessments ALTER COLUMN area_id SET NOT NULL;
ALTER TABLE aec_assessments ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE aec_assessments ALTER COLUMN rwm_migrate_flag SET NOT NULL;


CREATE TABLE aec_medias (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	aecass_area_id varchar(40) NOT NULL,
	media_cd varchar(6) NOT NULL,
	note varchar(255),
	who_created varchar(30),
	when_created timestamp(0),
	who_updated varchar(30),
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL
) ;
CREATE INDEX aecmedia_assessment_frgn_frgn ON aec_medias (site_id, aecass_area_id);
CREATE INDEX aecmedia_media_frgn_frgn ON aec_medias (media_cd);
ALTER TABLE aec_medias ADD PRIMARY KEY (id);
ALTER TABLE aec_medias ALTER COLUMN id SET NOT NULL;
ALTER TABLE aec_medias ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_medias ALTER COLUMN aecass_area_id SET NOT NULL;
ALTER TABLE aec_medias ALTER COLUMN media_cd SET NOT NULL;
ALTER TABLE aec_medias ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE aec_medias ALTER COLUMN rwm_note_flag SET NOT NULL;


CREATE TABLE aec_pcocs (
	id bigint NOT NULL,
	media_id bigint NOT NULL,
	media_cd varchar(6),
	site_id bigint NOT NULL,
	aecass_area_id varchar(40) NOT NULL,
	contaminant_cd varchar(50) NOT NULL,
	criteria_cd varchar(10),
	level_cd varchar(6),
	selected char(1),
	who_created varchar(30),
	when_created timestamp(0),
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX aecpcocs_media_frgn_frgn ON aec_pcocs (media_id);
CREATE INDEX aecpcoc_assessments_frgn_frgn ON aec_pcocs (site_id, aecass_area_id);
ALTER TABLE aec_pcocs ADD PRIMARY KEY (id);
ALTER TABLE aec_pcocs ALTER COLUMN id SET NOT NULL;
ALTER TABLE aec_pcocs ALTER COLUMN media_id SET NOT NULL;
ALTER TABLE aec_pcocs ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_pcocs ALTER COLUMN aecass_area_id SET NOT NULL;
ALTER TABLE aec_pcocs ALTER COLUMN contaminant_cd SET NOT NULL;


CREATE TABLE aec_remediations (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	plan_name varchar(40) NOT NULL,
	media_code varchar(6) NOT NULL,
	plan_date timestamp(0),
	remed_note varchar(2000),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL,
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX aecrem_media_frgn ON aec_remediations (media_code);
CREATE INDEX aecrem_sites_frgn ON aec_remediations (site_id);
ALTER TABLE aec_remediations ADD PRIMARY KEY (id);
ALTER TABLE aec_remediations ADD UNIQUE (site_id,plan_name,media_code);
ALTER TABLE aec_remediations ALTER COLUMN id SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN plan_name SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN media_code SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN rwm_note_flag SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE aec_remediations ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE aec_remed_approaches (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	aecrem_id bigint NOT NULL,
	criteria_code varchar(10) NOT NULL,
	approach varchar(10) NOT NULL,
	remed_site_use_code varchar(6) NOT NULL,
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX aecremapp_criteria_frgn ON aec_remed_approaches (criteria_code);
CREATE INDEX aecremapp_remed_frgn ON aec_remed_approaches (aecrem_id);
CREATE INDEX aecremapp_rem_use_frgn ON aec_remed_approaches (remed_site_use_code);
CREATE INDEX aecremapp_sites_frgn ON aec_remed_approaches (site_id);
ALTER TABLE aec_remed_approaches ADD UNIQUE (aecrem_id,criteria_code,approach,remed_site_use_code);
ALTER TABLE aec_remed_approaches ADD PRIMARY KEY (id);
ALTER TABLE aec_remed_approaches ALTER COLUMN id SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN aecrem_id SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN criteria_code SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN approach SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN remed_site_use_code SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE aec_remed_approaches ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE aec_remed_items (
	aecremapp_id bigint NOT NULL,
	aecpcoc_id bigint NOT NULL,
	site_id bigint NOT NULL,
	aecrem_id bigint NOT NULL,
	protection_category varchar(40),
	activity varchar(80),
	target_level bigint,
	unit varchar(10),
	compound varchar(40),
	risk_objective varchar(40),
	risk_calculated bigint,
	risk_remediated bigint,
	hazard_objective varchar(40),
	hazard_calculated bigint,
	hazard_remediated bigint,
	risk_assessment_activity varchar(80),
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX aecremitems_pcoc_frgn ON aec_remed_items (aecpcoc_id);
CREATE INDEX aecremitems_remed_frgn ON aec_remed_items (aecrem_id);
CREATE INDEX aecremitems_sites_frgn ON aec_remed_items (site_id);
ALTER TABLE aec_remed_items ADD PRIMARY KEY (aecremapp_id,aecpcoc_id);
ALTER TABLE aec_remed_items ALTER COLUMN aecremapp_id SET NOT NULL;
ALTER TABLE aec_remed_items ALTER COLUMN aecpcoc_id SET NOT NULL;
ALTER TABLE aec_remed_items ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_remed_items ALTER COLUMN aecrem_id SET NOT NULL;
ALTER TABLE aec_remed_items ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE aec_remed_items ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE aec_remed_measures (
	site_id bigint NOT NULL,
	aecrem_id bigint NOT NULL,
	remed_measure_cd varchar(6) NOT NULL,
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX aecremmea_remmea_cd_indx ON aec_remed_measures (remed_measure_cd);
CREATE INDEX aecremmea_sites_frgn ON aec_remed_measures (site_id);
ALTER TABLE aec_remed_measures ADD PRIMARY KEY (aecrem_id,remed_measure_cd);
ALTER TABLE aec_remed_measures ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_remed_measures ALTER COLUMN aecrem_id SET NOT NULL;
ALTER TABLE aec_remed_measures ALTER COLUMN remed_measure_cd SET NOT NULL;
ALTER TABLE aec_remed_measures ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE aec_remed_measures ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE aec_sources (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	aecass_area_id varchar(40) NOT NULL,
	source_cd varchar(80),
	who_created varchar(30),
	who_updated varchar(30),
	when_created timestamp(0),
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE aec_sources IS E'One SOURCE of contamination for a particular AREA OF ENVIRONMENTAL CONCERN.';
CREATE INDEX aecsrce_assessment_frgn_frgn ON aec_sources (site_id, aecass_area_id);
CREATE INDEX aecsrce_source_cd_frgn ON aec_sources (source_cd);
ALTER TABLE aec_sources ADD PRIMARY KEY (id);
ALTER TABLE aec_sources ALTER COLUMN id SET NOT NULL;
ALTER TABLE aec_sources ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE aec_sources ALTER COLUMN aecass_area_id SET NOT NULL;
ALTER TABLE aec_sources ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE bce_region_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE bce_region_cd IS E'An administration area in the province of British Columbia.';
COMMENT ON COLUMN bce_region_cd.code IS E'Code which uniquely identifies BCE regions.';
COMMENT ON COLUMN bce_region_cd.description IS E'Name associated with unique BCE region code.';
ALTER TABLE bce_region_cd ADD PRIMARY KEY (code);
ALTER TABLE bce_region_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE bce_region_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE city_regions (
	city varchar(30) NOT NULL,
	bcer_code varchar(6) NOT NULL
) ;
COMMENT ON TABLE city_regions IS E'Table to link a CITY to a BCE REGION';
COMMENT ON COLUMN city_regions.bcer_code IS E'BCE REGION code associated with CITY';
COMMENT ON COLUMN city_regions.city IS E'City name';
CREATE INDEX cr_associated_region ON city_regions (bcer_code);
ALTER TABLE city_regions ADD PRIMARY KEY (city);
ALTER TABLE city_regions ALTER COLUMN city SET NOT NULL;
ALTER TABLE city_regions ALTER COLUMN bcer_code SET NOT NULL;


CREATE TABLE classification_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE classification_cd IS E'Contains valid Site classifications.';
COMMENT ON COLUMN classification_cd.code IS E'A code used to uniquely identify a site classification.';
COMMENT ON COLUMN classification_cd.description IS E'Textual description for the CLASSIFICATION code.';
ALTER TABLE classification_cd ADD PRIMARY KEY (code);
ALTER TABLE classification_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE classification_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE conditions_text (
	event_id bigint NOT NULL,
	conditions_comment varchar(2000) NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE conditions_text IS E'Textual descriptions of conditions applied to an event';
COMMENT ON COLUMN conditions_text.conditions_comment IS E'Textual description of conditions applied to an EVENT.';
COMMENT ON COLUMN conditions_text.event_id IS E'(COPIED)A system generated number used to uniquely identify an EVENT.';
CREATE INDEX ctext_applied_to ON conditions_text (event_id);
CREATE INDEX ctext_rwm_flag ON conditions_text (rwm_flag);
ALTER TABLE conditions_text ALTER COLUMN event_id SET NOT NULL;
ALTER TABLE conditions_text ALTER COLUMN conditions_comment SET NOT NULL;
ALTER TABLE conditions_text ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE conditions_text ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE conditions_text ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE contamination_class_cd (
	code varchar(6) NOT NULL,
	description varchar(140) NOT NULL
) ;
COMMENT ON TABLE contamination_class_cd IS E'An administration area in the province of British Columbia.';
COMMENT ON COLUMN contamination_class_cd.code IS E'Code which uniquely identifies TYPE OF CONTAMINATION';
COMMENT ON COLUMN contamination_class_cd.description IS E'Name associated with unique TYPE OF CONTAMINATION ';
ALTER TABLE contamination_class_cd ADD PRIMARY KEY (code);
ALTER TABLE contamination_class_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE contamination_class_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE contam_cd (
	contaminant varchar(50) NOT NULL
) ;
COMMENT ON TABLE contam_cd IS E'Table to hold valid contaminant types';
ALTER TABLE contam_cd ADD PRIMARY KEY (contaminant);
ALTER TABLE contam_cd ALTER COLUMN contaminant SET NOT NULL;


CREATE TABLE criteria_cd (
	code varchar(10) NOT NULL,
	description varchar(100)
) ;
ALTER TABLE criteria_cd ADD PRIMARY KEY (code);
ALTER TABLE criteria_cd ALTER COLUMN code SET NOT NULL;


CREATE TABLE criteria_level_cd (
	contaminant_code varchar(50) NOT NULL,
	criteria_cd varchar(10) NOT NULL,
	media_cd varchar(6) NOT NULL,
	level_code varchar(6) NOT NULL,
	remed_site_use_cd varchar(6),
	lower_level bigint,
	upper_level bigint,
	units varchar(10),
	level_description varchar(80) NOT NULL
) ;
COMMENT ON TABLE criteria_level_cd IS E'The relative concentration of chemicals in soil, water, biota, sediment, or air';
CREATE INDEX criteria_code_ind ON criteria_level_cd (criteria_cd);
CREATE UNIQUE INDEX criteria_code_table_ind ON criteria_level_cd (criteria_cd, media_cd, contaminant_code, remed_site_use_cd, level_code);
CREATE INDEX criteria_code_use_ind ON criteria_level_cd (media_cd, criteria_cd, remed_site_use_cd, contaminant_code);
CREATE INDEX criteria_contam_cd_frgn ON criteria_level_cd (contaminant_code);
CREATE INDEX criteria_media_cd_frgn ON criteria_level_cd (media_cd);
CREATE INDEX criteria_remed_use_frgn ON criteria_level_cd (remed_site_use_cd);
ALTER TABLE criteria_level_cd ADD PRIMARY KEY (media_cd,criteria_cd,contaminant_code,level_code);
ALTER TABLE criteria_level_cd ALTER COLUMN contaminant_code SET NOT NULL;
ALTER TABLE criteria_level_cd ALTER COLUMN criteria_cd SET NOT NULL;
ALTER TABLE criteria_level_cd ALTER COLUMN media_cd SET NOT NULL;
ALTER TABLE criteria_level_cd ALTER COLUMN level_code SET NOT NULL;
ALTER TABLE criteria_level_cd ALTER COLUMN level_description SET NOT NULL;


CREATE TABLE doc_abstracts (
	sdoc_id bigint NOT NULL,
	abstract_comment text NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0)
) ;
COMMENT ON TABLE doc_abstracts IS E'An overview of a site document';
COMMENT ON COLUMN doc_abstracts.abstract_comment IS E'A textual description of a SITE DOCUMENT. Must be switched to a LONG datatype.';
COMMENT ON COLUMN doc_abstracts.sdoc_id IS E'(COPIED)A system generated number used to uniquely identify DOCUMENT.';
COMMENT ON COLUMN doc_abstracts.when_updated IS E'A textual description of a SITE DOCUMENT. Must be switched to a LONG datatype.';
ALTER TABLE doc_abstracts ADD PRIMARY KEY (sdoc_id);
ALTER TABLE doc_abstracts ALTER COLUMN sdoc_id SET NOT NULL;
ALTER TABLE doc_abstracts ALTER COLUMN abstract_comment SET NOT NULL;
ALTER TABLE doc_abstracts ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE doc_abstracts ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE doc_partic_role_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE doc_partic_role_cd IS E'A classification of the role a SITE PARTICIPANT may play with respect to a SITE DOCUMENT';
COMMENT ON COLUMN doc_partic_role_cd.code IS E'A code used to uniquely identify a SITE DOCUMENT ROLE.';
COMMENT ON COLUMN doc_partic_role_cd.description IS E'A textual description of the SITE DOCUMENT ROLE code.';
ALTER TABLE doc_partic_role_cd ADD PRIMARY KEY (code);
ALTER TABLE doc_partic_role_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE doc_partic_role_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE events (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	event_date timestamp(0) NOT NULL,
	completion_date timestamp(0),
	etyp_code varchar(6) NOT NULL,
	psnorg_id bigint NOT NULL,
	sp_id bigint NOT NULL,
	note varchar(500),
	region_app_flag varchar(1),
	region_userid varchar(16),
	region_date timestamp(0),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL,
	rwm_approval_date timestamp(0),
	ecls_code varchar(6) NOT NULL,
	requirement_due_date timestamp(0),
	requirement_received_date timestamp(0)
) ;
COMMENT ON TABLE events IS E'An EVENT is an administrative, legal, regulatory, remedial, or management action, or business activity that occurs on, or with respect to, a SITE.';
COMMENT ON COLUMN events.completion_date IS E'In situations where an EVENT occurs over a range of days, the COMPLETION DATE indicates the end of the process.';
COMMENT ON COLUMN events.ecls_code IS E'ECLS CODE identifies the EVENT CLASS that is applicable to this EVENT, such as LEG (Waste management Act General), or PCA (Pollution Control Act).';
COMMENT ON COLUMN events.etyp_code IS E'ETYP CODE is a unique code indicating the EVENT TYPE that describes this EVENT, such as RCL (Remediated to Commercial Levels) or EAIPR (Approval in Principle Requested).';
COMMENT ON COLUMN events.event_date IS E'The EVENT DATE is the date that the EVENT occurred.';
COMMENT ON COLUMN events.id IS E'ID is a  system generated surogate primary key that uniquely identified an EVENT.';
COMMENT ON COLUMN events.note IS E'The NOTE contains any descriptive text or comments pertaining to the EVENT.';
COMMENT ON COLUMN events.psnorg_id IS E'PSNORG ID is a  system generated surrogate primary key that uniquely identified a PERSON or an ORGANIZATION..';
COMMENT ON COLUMN events.region_app_flag IS E'REGION APP FLAG is a Y/N flag indicating whether the regional coordinator has approved this EVENT for inclusion on the Site Registry.';
COMMENT ON COLUMN events.region_date IS E'REGION DATE is a date in hourly format for when the regional coordinator last approved or dissapproved this SITE for inclusion onto the Site Registry.';
COMMENT ON COLUMN events.region_userid IS E'REGION USERID is the Oracle username of the regional coordinator who last approved or dissapproved this SITE for inclusion onto the Site Registry.';
COMMENT ON COLUMN events.requirement_due_date IS E'For a Compliance type EVENT, the REQUIREMENT DUE DATE is the date that the particular compliance EVENT is due.';
COMMENT ON COLUMN events.requirement_received_date IS E'For a Compliance type EVENT, the REQUIREMENT RECEIVED DATE is the date that the compliance EVENT information was received by the Ministry.';
COMMENT ON COLUMN events.rwm_approval_date IS E'RWM APPROVAL DATE is a date in hourly format when the Regional Waste Manager (RWM) last changed the RWM FLAG status code to indicate whether or not this EVENT shoudl be sent to the Site Registry as part of this SITEs record.';
COMMENT ON COLUMN events.rwm_flag IS E'RWM FLAG is a numeric code indicating the Regional Waste Manager (RWM) approval status for this EVENT for the current SITE. Note that the value has a complex non-trivial sequencing to allow it to track process flow. For example, 50 indicates the EVENT has been approved by the Regional Waste Manager and is readt to go to the Site Registry, whereas 21 indicates it has been approval but is waiting final approval from the Registrar.';
COMMENT ON COLUMN events.rwm_note_flag IS E'RWM NOTE FLAG is a numeric code indicating the Regional Waste Manager (RWM) approval status for the Note component this EVENT for the current SITE. Caution: the value has a complex non-trivial sequencing to allow it to track process flow. For example, 50 indicates the EVENT NOTE has been approved by the Regional Waste Manager and is readt to go to the Site Registry, whereas 21 indicates it has been approval but is waiting final approval from the Registrar.';
COMMENT ON COLUMN events.site_id IS E'ID is a system generated number used to uniquely identify a SITE. This number is viewable by the users and is used to refer top the SITE in other phases of work. In other tables, it is usually referred to as SITE_ID.';
COMMENT ON COLUMN events.sp_id IS E'SP ID is a  system generated surrogate primary key that uniquely identifies a SITE PARTICIPANT.';
COMMENT ON COLUMN events.when_created IS E'WHEN CREATED is the date when this record was created.';
COMMENT ON COLUMN events.when_updated IS E'WHEN UPDATED is the date when this record was last updated or modified.';
COMMENT ON COLUMN events.who_created IS E'WHO CREATED is the Oracle userid of the user who created this record.';
COMMENT ON COLUMN events.who_updated IS E'WHO UPDATED is the Oracle userid of the user who last updated or modified this record.';
CREATE INDEX event_applicable_to_frgn ON events (site_id);
CREATE INDEX event_described_by_frgn ON events (etyp_code, ecls_code);
CREATE INDEX event_psnorg_frgn ON events (psnorg_id);
CREATE INDEX event_responsibility_of_frgn ON events (sp_id);
CREATE INDEX event_rwm_flag ON events (rwm_flag);
CREATE INDEX event_rwm_note_flag ON events (rwm_note_flag);
ALTER TABLE events ADD PRIMARY KEY (id);
ALTER TABLE events ALTER COLUMN id SET NOT NULL;
ALTER TABLE events ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE events ALTER COLUMN event_date SET NOT NULL;
ALTER TABLE events ALTER COLUMN etyp_code SET NOT NULL;
ALTER TABLE events ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE events ALTER COLUMN sp_id SET NOT NULL;
ALTER TABLE events ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE events ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE events ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE events ALTER COLUMN rwm_note_flag SET NOT NULL;
ALTER TABLE events ALTER COLUMN ecls_code SET NOT NULL;


CREATE TABLE event_class_cd (
	code varchar(6) NOT NULL,
	description varchar(80) NOT NULL
) ;
COMMENT ON TABLE event_class_cd IS E'A major grouping of EVENT TYPEs (e.g. "L"egal/"A"dministrative).';
COMMENT ON COLUMN event_class_cd.code IS E'A unique code used to identify a major event grouping.';
COMMENT ON COLUMN event_class_cd.description IS E'A description of code used to identify a major event grouping.';
ALTER TABLE event_class_cd ADD PRIMARY KEY (code);
ALTER TABLE event_class_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE event_class_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE event_partics (
	event_id bigint NOT NULL,
	sp_id bigint NOT NULL,
	epr_code varchar(6) NOT NULL,
	psnorg_id bigint NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE event_partics IS E'A SITE PARTICIPANT who plays a role in an EVENT.';
COMMENT ON COLUMN event_partics.epr_code IS E'A code which uniquely identifies an EVENT PARTICIPANT ROLE.';
COMMENT ON COLUMN event_partics.event_id IS E'A system generated number used to uniquely identify an EVENT.';
COMMENT ON COLUMN event_partics.psnorg_id IS E'A system generated number used to uniquely identify PERSON / ORG.';
COMMENT ON COLUMN event_partics.sp_id IS E'Unmber identifying associated Site Participant record';
CREATE INDEX ep_classified_by_frgn ON event_partics (epr_code);
CREATE INDEX ep_played_by_frgn ON event_partics (sp_id);
CREATE INDEX ep_playing_a_role_i_frgn ON event_partics (event_id);
CREATE INDEX ep_psnorg_frgn ON event_partics (psnorg_id);
CREATE INDEX ep_rwm_flag ON event_partics (rwm_flag);
ALTER TABLE event_partics ADD PRIMARY KEY (event_id,sp_id,epr_code);
ALTER TABLE event_partics ALTER COLUMN event_id SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN sp_id SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN epr_code SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE event_partics ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE event_partic_role_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE event_partic_role_cd IS E'A classification of the role a SITE PARTICIPANT can play with respect to an EVENT';
COMMENT ON COLUMN event_partic_role_cd.code IS E'A code which uniquely identifies an EVENT PARTICIPANT ROLE.';
COMMENT ON COLUMN event_partic_role_cd.description IS E'Text describing the EVENT PARTICIPANT ROLE code.';
ALTER TABLE event_partic_role_cd ADD PRIMARY KEY (code);
ALTER TABLE event_partic_role_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE event_partic_role_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE event_type_cd (
	code varchar(6) NOT NULL,
	ecls_code varchar(6) NOT NULL,
	sst_code varchar(6),
	description varchar(120) NOT NULL,
	req_completion_date varchar(1) NOT NULL,
	req_regional_approval varchar(1) NOT NULL,
	req_remediation_plan varchar(1) NOT NULL,
	req_registrar_approval varchar(1) NOT NULL,
	req_success varchar(1) NOT NULL,
	site_registry_visible varchar(1) NOT NULL
) ;
COMMENT ON TABLE event_type_cd IS E'The classification of an activity or EVENT that may occur with respect to a SITE or a number of SITES.';
COMMENT ON COLUMN event_type_cd.code IS E'A unique code used to represent a type of EVENT.';
COMMENT ON COLUMN event_type_cd.description IS E'A description of the EVENT represented by EVENT TYPE CODE.';
COMMENT ON COLUMN event_type_cd.ecls_code IS E'A unique code used to identify a major event grouping.';
COMMENT ON COLUMN event_type_cd.req_completion_date IS E'Indicates if EVENT TYPE requires completion.';
COMMENT ON COLUMN event_type_cd.req_regional_approval IS E'Indicates if EVENT TYPE requires regional approval for SR.';
COMMENT ON COLUMN event_type_cd.req_registrar_approval IS E'Indicates if EVENT TYPE requires registrar approval for SR.';
COMMENT ON COLUMN event_type_cd.req_remediation_plan IS E'Indicates if EVENT TYPE requires remediation plan to be initiated';
COMMENT ON COLUMN event_type_cd.req_success IS E'Indicates if EVENT TYPE must be successful.';
COMMENT ON COLUMN event_type_cd.site_registry_visible IS E'Indicates if EVENT TYPE is available to Site Registry.';
COMMENT ON COLUMN event_type_cd.sst_code IS E'A unique code used to identify an occurrence of SITE STATUS TYPE.';
CREATE INDEX etyp_classified_by_frgn ON event_type_cd (ecls_code);
CREATE INDEX etyp_related_to_frgn ON event_type_cd (sst_code);
ALTER TABLE event_type_cd ADD PRIMARY KEY (code,ecls_code);
ALTER TABLE event_type_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN ecls_code SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN description SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN req_completion_date SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN req_regional_approval SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN req_remediation_plan SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN req_registrar_approval SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN req_success SET NOT NULL;
ALTER TABLE event_type_cd ALTER COLUMN site_registry_visible SET NOT NULL;


CREATE TABLE form_help (
	module_name varchar(8) NOT NULL,
	window_name varchar(40) NOT NULL,
	help_title varchar(40) NOT NULL,
	help_text text NOT NULL
) ;
COMMENT ON TABLE form_help IS E'Form Help Table';
COMMENT ON COLUMN form_help.help_text IS E'Actual help text';
COMMENT ON COLUMN form_help.help_title IS E'Specifies title for this help text';
COMMENT ON COLUMN form_help.module_name IS E'Defines module this help corresponds to';
COMMENT ON COLUMN form_help.window_name IS E'Defines window within module this help corresponds to';
ALTER TABLE form_help ADD PRIMARY KEY (module_name,window_name);
ALTER TABLE form_help ALTER COLUMN module_name SET NOT NULL;
ALTER TABLE form_help ALTER COLUMN window_name SET NOT NULL;
ALTER TABLE form_help ALTER COLUMN help_title SET NOT NULL;
ALTER TABLE form_help ALTER COLUMN help_text SET NOT NULL;


CREATE TABLE land_histories (
	site_id bigint NOT NULL,
	lut_code varchar(6) NOT NULL,
	note varchar(255),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL,
	site_profile char(1),
	profile_date_received timestamp(0)
) ;
COMMENT ON TABLE land_histories IS E'The use of land within a SITE"s boundaries during a specific period of time (may indicate current usage).';
COMMENT ON COLUMN land_histories.lut_code IS E'A code used to uniquely identify commonly encountered LAND USEs.';
COMMENT ON COLUMN land_histories.note IS E'Comment about the LAND USE specific to the SITE in question.';
COMMENT ON COLUMN land_histories.site_id IS E'A system generated number used to uniquely identify a SITE.';
CREATE INDEX sluh_applicable_to_frgn ON land_histories (site_id);
CREATE INDEX sluh_described_by_frgn ON land_histories (lut_code);
CREATE INDEX sluh_rwm_flag ON land_histories (rwm_flag);
CREATE INDEX sluh_rwm_note_flag ON land_histories (rwm_note_flag);
ALTER TABLE land_histories ADD PRIMARY KEY (site_id,lut_code);
ALTER TABLE land_histories ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE land_histories ALTER COLUMN lut_code SET NOT NULL;
ALTER TABLE land_histories ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE land_histories ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE land_histories ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE land_histories ALTER COLUMN rwm_note_flag SET NOT NULL;


CREATE TABLE land_use_cd (
	code varchar(6) NOT NULL,
	description varchar(60) NOT NULL
) ;
COMMENT ON TABLE land_use_cd IS E'The description of how a piece of property is used at a given point in time.';
COMMENT ON COLUMN land_use_cd.code IS E'A code used to uniquely identify commonly encountered LAND USEs.';
COMMENT ON COLUMN land_use_cd.description IS E'A description of a specific occurance of LAND USE TYPE.';
ALTER TABLE land_use_cd ADD PRIMARY KEY (code);
ALTER TABLE land_use_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE land_use_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE load_measurements (
	msmt_pop_id bigint,
	media_cd varchar(6),
	contaminant_cd varchar(50),
	nsamples smallint,
	low_value bigint,
	high_value bigint,
	percent_90 bigint,
	mean bigint,
	standard_deviation bigint,
	who_created varchar(30),
	when_created timestamp(0)
) ;
COMMENT ON TABLE load_measurements IS E'Temporary table for loading MEASUREMENT data';


CREATE TABLE location_descriptions (
	location varchar(255) NOT NULL
) ;
COMMENT ON TABLE location_descriptions IS E'- Retrofitted';
COMMENT ON COLUMN location_descriptions.location IS E' - Retrofitted';
ALTER TABLE location_descriptions ADD PRIMARY KEY (location);
ALTER TABLE location_descriptions ALTER COLUMN location SET NOT NULL;


CREATE TABLE lto_download (
	pid varchar(9) NOT NULL,
	pid_status_cd varchar(1),
	legal_description varchar(255),
	child_pid varchar(9),
	child_pid_status_cd varchar(1),
	child_legal_description varchar(255)
) ;
ALTER TABLE lto_download ALTER COLUMN pid SET NOT NULL;


CREATE TABLE lto_prev_download (
	pid varchar(9) NOT NULL,
	pid_status_cd varchar(1),
	legal_description varchar(255),
	child_pid varchar(9),
	child_pid_status_cd varchar(1),
	child_legal_description varchar(255)
) ;
ALTER TABLE lto_prev_download ALTER COLUMN pid SET NOT NULL;


CREATE TABLE mailout (
	site_id bigint NOT NULL,
	psnorg_id bigint NOT NULL,
	bcer_code varchar(6) NOT NULL,
	display_name varchar(150) NOT NULL,
	common_name varchar(40) NOT NULL,
	common_city_name varchar(30) NOT NULL,
	organization_address varchar(50) NOT NULL,
	org_address_2 varchar(50),
	org_address_3 varchar(50),
	organization_city_name varchar(30) NOT NULL,
	prov_state varchar(2) NOT NULL,
	postal_code varchar(10),
	mailing_date timestamp(0),
	response_date timestamp(0),
	record_date timestamp(0),
	revise varchar(1),
	complete varchar(1),
	complete_date timestamp(0),
	comments varchar(750),
	update_notation varchar(1),
	update_notation_date timestamp(0),
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
CREATE INDEX mailout_bcer_code ON mailout (bcer_code);
ALTER TABLE mailout ADD PRIMARY KEY (site_id,psnorg_id);
ALTER TABLE mailout ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN bcer_code SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN display_name SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN common_name SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN common_city_name SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN organization_address SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN organization_city_name SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN prov_state SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE mailout ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE matrix_objectives (
	criteria_code varchar(10) NOT NULL,
	media_code varchar(6) NOT NULL,
	contaminant_code varchar(50) NOT NULL,
	remed_site_use_code varchar(6) NOT NULL,
	protcat_code varchar(40) NOT NULL,
	activity_code varchar(6) NOT NULL,
	ph_range varchar(15),
	level_value bigint NOT NULL,
	units varchar(10) NOT NULL
) ;
CREATE INDEX matobj_activity_frgn ON matrix_objectives (activity_code);
CREATE INDEX matobj_contam_frgn ON matrix_objectives (contaminant_code);
CREATE INDEX matobj_criteria_frgn ON matrix_objectives (criteria_code);
CREATE INDEX matobj_media_frgn ON matrix_objectives (media_code);
CREATE INDEX matobj_protcat_frgn ON matrix_objectives (protcat_code);
CREATE INDEX matobj_remed_use_frgn ON matrix_objectives (remed_site_use_code);
CREATE INDEX matobj_usage_ind ON matrix_objectives (media_code, criteria_code, remed_site_use_code, contaminant_code, protcat_code, activity_code);
ALTER TABLE matrix_objectives ADD PRIMARY KEY (criteria_code,media_code,contaminant_code,remed_site_use_code,protcat_code,activity_code,level_value);
ALTER TABLE matrix_objectives ALTER COLUMN criteria_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN media_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN contaminant_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN remed_site_use_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN protcat_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN activity_code SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN level_value SET NOT NULL;
ALTER TABLE matrix_objectives ALTER COLUMN units SET NOT NULL;


CREATE TABLE measurements (
	msmt_pop_id bigint NOT NULL,
	media_cd varchar(6) NOT NULL,
	contaminant_cd varchar(50) NOT NULL,
	nsamples smallint NOT NULL,
	low_value bigint NOT NULL,
	high_value bigint NOT NULL,
	percent_90 bigint NOT NULL,
	mean bigint NOT NULL,
	standard_deviation bigint NOT NULL,
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0)
) ;
COMMENT ON TABLE measurements IS E'This contains summary measurement information for a population.';
COMMENT ON COLUMN measurements.contaminant_cd IS E'Specifies the CONTAMINANT that this measurement is for';
COMMENT ON COLUMN measurements.high_value IS E'High value of all measurement data';
COMMENT ON COLUMN measurements.low_value IS E'Low value of all measurement data';
COMMENT ON COLUMN measurements.mean IS E'Mean value of all measurement data';
COMMENT ON COLUMN measurements.media_cd IS E'Defines the MEDIA where this contaminant was identified';
COMMENT ON COLUMN measurements.msmt_pop_id IS E'Defines the MEAUREMENT POPULATION this applies to';
COMMENT ON COLUMN measurements.nsamples IS E'Number of samples collected for this summary record';
COMMENT ON COLUMN measurements.percent_90 IS E'90% confidence value of all measurement data';
COMMENT ON COLUMN measurements.standard_deviation IS E'Standard deviation of all measurement data';
CREATE INDEX msmt_contam_ind ON measurements (contaminant_cd);
CREATE INDEX msmt_media_ind ON measurements (media_cd);
ALTER TABLE measurements ADD PRIMARY KEY (msmt_pop_id,media_cd,contaminant_cd);
ALTER TABLE measurements ALTER COLUMN msmt_pop_id SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN media_cd SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN contaminant_cd SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN nsamples SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN low_value SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN high_value SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN percent_90 SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN mean SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN standard_deviation SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE measurements ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE measurement_populations (
	id bigint NOT NULL,
	sdoc_id bigint NOT NULL,
	site_id bigint NOT NULL,
	name varchar(80) NOT NULL,
	measurement_date timestamp(0) NOT NULL,
	associated_aecass_id varchar(40),
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL,
	who_updated varchar(30),
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE measurement_populations IS E'These define the various populations in a measurement survey.';
COMMENT ON COLUMN measurement_populations.associated_aecass_id IS E'Optional - the Assessment this measurement population describes,';
COMMENT ON COLUMN measurement_populations.measurement_date IS E'Date the measurements/survey was taken';
COMMENT ON COLUMN measurement_populations.name IS E'Population name';
COMMENT ON COLUMN measurement_populations.sdoc_id IS E'Defines the Site Document for which these measurements apply.';
COMMENT ON COLUMN measurement_populations.site_id IS E'Specifies the SITE for which this measurement applies.';
CREATE INDEX msmt_pop_aecass_ind ON measurement_populations (site_id, associated_aecass_id);
CREATE INDEX msmt_pop_sdoc_ind ON measurement_populations (sdoc_id);
CREATE INDEX msmt_pop_site_ind ON measurement_populations (site_id);
ALTER TABLE measurement_populations ADD PRIMARY KEY (id);
ALTER TABLE measurement_populations ALTER COLUMN id SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN sdoc_id SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN name SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN measurement_date SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE measurement_populations ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE media_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE media_cd IS E'A substance where contaminants may be found (e.g. soil, surface water, ground water, air, sediment, fill, etc.).';
COMMENT ON COLUMN media_cd.code IS E'A code which uniquely identifies MEDIA available for CONTAMINANTS';
COMMENT ON COLUMN media_cd.description IS E'A text description of the MEDIA related to the MEDIA code.';
ALTER TABLE media_cd ADD PRIMARY KEY (code);
ALTER TABLE media_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE media_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE partic_role_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE partic_role_cd IS E'A role that a PERSON / ORGANIZATION may play (e.g. Ministry Contact, Agency etc)';
COMMENT ON COLUMN partic_role_cd.code IS E'A code which uniquely identifies a PARTICIPANT ROLE.';
COMMENT ON COLUMN partic_role_cd.description IS E'Text description of PARTICIPANT ROLE code.';
ALTER TABLE partic_role_cd ADD PRIMARY KEY (code);
ALTER TABLE partic_role_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE partic_role_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE people_orgs (
	id bigint NOT NULL,
	organization_name varchar(150),
	display_name varchar(150) NOT NULL,
	entity_type varchar(12) NOT NULL,
	location varchar(40),
	bcer_code varchar(6),
	contact_name varchar(150),
	mail_userid varchar(100),
	last_name varchar(150),
	first_name varchar(75),
	middle_name varchar(75),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	end_date timestamp(0)
) ;
COMMENT ON TABLE people_orgs IS E'Table of all PEOPLE/ORGANIZATIONS with information in this system (employess, land owners, participants, etc).';
COMMENT ON COLUMN people_orgs.bcer_code IS E'Code which uniquely identifies BCE regions.';
COMMENT ON COLUMN people_orgs.contact_name IS E'The name of the contact person within the ORGANIZATION.';
COMMENT ON COLUMN people_orgs.entity_type IS E'Defines type of person / organization.';
COMMENT ON COLUMN people_orgs.first_name IS E'First given name of PERSON.';
COMMENT ON COLUMN people_orgs.id IS E'A system generated number used to uniquely identify PERSON / ORG.';
COMMENT ON COLUMN people_orgs.last_name IS E'Surname of PERSON.';
COMMENT ON COLUMN people_orgs.mail_userid IS E'Ministry USERID of person who may be involved with EVENTS/SITES.';
COMMENT ON COLUMN people_orgs.middle_name IS E'Middle name or initial of PERSON.';
COMMENT ON COLUMN people_orgs.organization_name IS E'Name of ORGANIZATION.';
CREATE INDEX psnorg_working_within_frgn ON people_orgs (bcer_code);
ALTER TABLE people_orgs ADD PRIMARY KEY (id);
ALTER TABLE people_orgs ADD CONSTRAINT psnorg_ck1 CHECK (       (bcer_code IS NOT NULL AND       entity_type = 'EMP')   OR (bcer_code IS NULL     AND       entity_type IN ('ORG','PER')));
ALTER TABLE people_orgs ADD CONSTRAINT psnorg_ck2 CHECK (       (entity_type = 'ORG' AND       last_name IS NULL   AND       first_name IS NULL  AND       middle_name IS NULL)       OR (entity_type IN ('EMP', 'PER')  AND       organization_name IS NULL      AND       location IS NULL               AND       contact_name IS NULL));
ALTER TABLE people_orgs ADD CONSTRAINT psnorg_ck3 CHECK (       (entity_type = 'ORG' AND       organization_name IS NOT NULL)       OR (entity_type IN ('EMP', 'PER')  AND       last_name IS NOT NULL));
ALTER TABLE people_orgs ALTER COLUMN id SET NOT NULL;
ALTER TABLE people_orgs ALTER COLUMN display_name SET NOT NULL;
ALTER TABLE people_orgs ALTER COLUMN entity_type SET NOT NULL;
ALTER TABLE people_orgs ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE people_orgs ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE plan_table (
	statement_id varchar(30),
	timestamp timestamp(0),
	remarks varchar(80),
	operation varchar(30),
	options varchar(30),
	object_node varchar(128),
	object_owner varchar(30),
	object_name varchar(30),
	object_instance numeric(38),
	object_type varchar(30),
	optimizer varchar(255),
	search_columns numeric(38),
	id numeric(38),
	parent_id numeric(38),
	position numeric(38),
	other text
) ;


CREATE TABLE profile_answers (
	site_id bigint NOT NULL,
	sprof_date_completed timestamp(0) NOT NULL,
	question_id bigint NOT NULL,
	who_created varchar(30) NOT NULL,
	when_created timestamp(0) NOT NULL
) ;
COMMENT ON TABLE profile_answers IS E'"YES" answers to PROFILE QUESTIONS for a given SITE';
CREATE INDEX profans_sprof ON profile_answers (site_id, sprof_date_completed);
ALTER TABLE profile_answers ADD PRIMARY KEY (site_id,sprof_date_completed,question_id);
ALTER TABLE profile_answers ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE profile_answers ALTER COLUMN sprof_date_completed SET NOT NULL;
ALTER TABLE profile_answers ALTER COLUMN question_id SET NOT NULL;
ALTER TABLE profile_answers ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE profile_answers ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE profile_categories (
	id bigint NOT NULL,
	sequence_no bigint NOT NULL,
	description varchar(200) NOT NULL,
	question_type varchar(1) NOT NULL,
	effective_date timestamp(0) NOT NULL,
	expiry_date timestamp(0),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	category_precursor varchar(300)
) ;
COMMENT ON TABLE profile_categories IS E'Various high-level categories in the SITE PROFILE';
CREATE INDEX profcat_id_seq ON profile_categories (id, sequence_no);
ALTER TABLE profile_categories ADD PRIMARY KEY (id);
ALTER TABLE profile_categories ALTER COLUMN question_type SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN id SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN sequence_no SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN description SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN effective_date SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE profile_categories ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE profile_questions (
	id bigint NOT NULL,
	sequence_no bigint NOT NULL,
	category_id bigint NOT NULL,
	parent_id bigint,
	description varchar(400) NOT NULL,
	effective_date timestamp(0) NOT NULL,
	expiry_date timestamp(0),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0)
) ;
COMMENT ON TABLE profile_questions IS E'Actual questions in each category in the SITE PROFILE';
CREATE INDEX profque_category_id ON profile_questions (category_id);
CREATE INDEX profque_cat_seq ON profile_questions (category_id, sequence_no);
CREATE INDEX profque_parent_id ON profile_questions (parent_id);
ALTER TABLE profile_questions ADD PRIMARY KEY (id);
ALTER TABLE profile_questions ALTER COLUMN id SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN sequence_no SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN category_id SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN description SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN effective_date SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE profile_questions ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE profile_submissions (
	sprof_date_completed timestamp(0) NOT NULL,
	submcd_code varchar(6) NOT NULL,
	sprof_site_id bigint NOT NULL
) ;
COMMENT ON COLUMN profile_submissions.sprof_date_completed IS E'Date the Site Profile was completed.';
COMMENT ON COLUMN profile_submissions.sprof_site_id IS E'(COPIED)A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN profile_submissions.submcd_code IS E'Submission Code';
CREATE INDEX profsbm_sprof_fk_i ON profile_submissions (sprof_site_id, sprof_date_completed);
CREATE INDEX profsbm_submcd_fk_i ON profile_submissions (submcd_code);
ALTER TABLE profile_submissions ADD PRIMARY KEY (sprof_site_id,sprof_date_completed,submcd_code);
ALTER TABLE profile_submissions ALTER COLUMN sprof_date_completed SET NOT NULL;
ALTER TABLE profile_submissions ALTER COLUMN submcd_code SET NOT NULL;
ALTER TABLE profile_submissions ALTER COLUMN sprof_site_id SET NOT NULL;


CREATE TABLE protection_category_cd (
	code varchar(40) NOT NULL
) ;
COMMENT ON TABLE protection_category_cd IS E'Defines valid protection categories.';
ALTER TABLE protection_category_cd ADD PRIMARY KEY (code);
ALTER TABLE protection_category_cd ALTER COLUMN code SET NOT NULL;


CREATE TABLE remed_measure_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
ALTER TABLE remed_measure_cd ADD PRIMARY KEY (code);
ALTER TABLE remed_measure_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE remed_measure_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE remed_site_use_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
ALTER TABLE remed_site_use_cd ADD PRIMARY KEY (code);
ALTER TABLE remed_site_use_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE remed_site_use_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE sis_addresses (
	id bigint NOT NULL,
	psnorg_id bigint NOT NULL,
	effective_date timestamp(0),
	termination_date timestamp(0),
	bus_area_code varchar(3),
	bus_phone_no varchar(7),
	fax_area_code varchar(3),
	fax_phone_no varchar(7),
	home_area_code varchar(3),
	home_phone_no varchar(7),
	addr_type varchar(7) NOT NULL,
	addr_line_1 varchar(50) NOT NULL,
	addr_line_2 varchar(50),
	addr_line_3 varchar(50),
	addr_line_4 varchar(50),
	city varchar(30) NOT NULL,
	prov_state varchar(2) NOT NULL,
	country varchar(3) NOT NULL,
	postal_code varchar(10),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0)
) ;
COMMENT ON TABLE sis_addresses IS E'An address and phone numbers associated with a PERSON / ORGANIZATION.';
COMMENT ON COLUMN sis_addresses.addr_line_1 IS E'Unstructured address, excluding city, prov, country, postal code.';
COMMENT ON COLUMN sis_addresses.addr_line_2 IS E'Unstructured address, excluding city, prov, country, postal code.';
COMMENT ON COLUMN sis_addresses.addr_line_3 IS E'Unstructured address, excluding city, prov, country, postal code.';
COMMENT ON COLUMN sis_addresses.addr_line_4 IS E'Unstructured address, excluding city, prov, country, postal code.';
COMMENT ON COLUMN sis_addresses.addr_type IS E'Code which distinguishes how the ADDRESS is used.';
COMMENT ON COLUMN sis_addresses.bus_area_code IS E'Business telephone area code';
COMMENT ON COLUMN sis_addresses.bus_phone_no IS E'Business telephone number';
COMMENT ON COLUMN sis_addresses.city IS E'COLUMN DEFINITION DERIVED FROM ATTRIBUTE CITY';
COMMENT ON COLUMN sis_addresses.country IS E'A code used to uniquely identify the ADDRESS Country.';
COMMENT ON COLUMN sis_addresses.effective_date IS E'The date this ADDRESS will be effective.';
COMMENT ON COLUMN sis_addresses.fax_area_code IS E'Facsimily machine telephone area code.';
COMMENT ON COLUMN sis_addresses.fax_phone_no IS E'Facsimily machine telephone number.';
COMMENT ON COLUMN sis_addresses.home_area_code IS E'Home area code of PERSON or ORGANIZATION contact.';
COMMENT ON COLUMN sis_addresses.home_phone_no IS E'Home phone number of PERSON or ORGANIZATION contact.';
COMMENT ON COLUMN sis_addresses.id IS E'A number used to uniquely identify ADDRESS.';
COMMENT ON COLUMN sis_addresses.postal_code IS E'COLUMN DEFINITION DERIVED FROM ATTRIBUTE POSTAL / ZIP CODE';
COMMENT ON COLUMN sis_addresses.prov_state IS E'A code which uniquely identifies the Province/State of ADDRESS.';
COMMENT ON COLUMN sis_addresses.psnorg_id IS E'A system generated number used to uniquely identify PERSON / ORG.';
COMMENT ON COLUMN sis_addresses.termination_date IS E'The date this ADDRESS is no longer valid.';
CREATE INDEX addr_a_location_for_frgn ON sis_addresses (psnorg_id);
ALTER TABLE sis_addresses ADD PRIMARY KEY (id);
ALTER TABLE sis_addresses ADD CONSTRAINT addr_ck1 CHECK (       termination_date IS NULL OR       effective_date <= termination_date);
ALTER TABLE sis_addresses ALTER COLUMN id SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN addr_type SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN addr_line_1 SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN city SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN prov_state SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN country SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE sis_addresses ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE sites (
	id bigint NOT NULL,
	bcer_code varchar(6) NOT NULL,
	sst_code varchar(6) NOT NULL,
	common_name varchar(40) NOT NULL,
	addr_type varchar(7) NOT NULL,
	addr_line_1 varchar(50) NOT NULL,
	addr_line_2 varchar(50),
	addr_line_3 varchar(50),
	addr_line_4 varchar(50),
	city varchar(30) NOT NULL,
	prov_state varchar(2) NOT NULL,
	postal_code varchar(10),
	latdeg double precision,
	longdeg double precision,
	victoria_file_no varchar(40),
	regional_file_no varchar(40),
	class_code varchar(6),
	general_description varchar(255),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_general_desc_flag smallint NOT NULL,
	consultant_submitted char(1),
	long_degrees smallint,
	long_minutes smallint,
	long_seconds decimal(4,2),
	lat_degrees smallint,
	lat_minutes smallint,
	lat_seconds decimal(4,2),
	sr_status varchar(1) NOT NULL DEFAULT 'Y',
	latlong_reliability_flag varchar(12) NOT NULL,
	site_risk_code varchar(6) NOT NULL DEFAULT 'UNC',
	geometry geometry(POINT,3005)
) ;
COMMENT ON TABLE sites IS E'A SITE is a piece of land or an administrative grouping of several pieces of land located in British Columbia about which the Ministry of Environment wishes to collect, manage and store environmental, regulatory and administrative information.  A SITE can be a legally definedparcel of titled land, Crown land, or federally owned land.  It can also be a larger area that is made up of multiple legally defined parcels of titled, Crown or federally owned land.';
COMMENT ON COLUMN sites.addr_line_1 IS E'PROFILE ADDRESS LINE 1 contains the first line of the unstructured address, excluding city, province, and postal code for the SITE.';
COMMENT ON COLUMN sites.addr_line_2 IS E'PROFILE ADDRESS LINE 2 contains the second line of the unstructured address, excluding city, province, and postal code for the SITE.';
COMMENT ON COLUMN sites.addr_line_3 IS E'PROFILE ADDRESS LINE 3 contains the third line of the unstructured address, excluding city, province, and postal code for the SITE.';
COMMENT ON COLUMN sites.addr_line_4 IS E'PROFILE ADDRESS LINE 4 contains the forth  line of the unstructured address, excluding city, province, and postal code for the SITE.';
COMMENT ON COLUMN sites.addr_type IS E'PROFILE ADDRESS TYPE CODE identified the type of address contained int he PROFILE ADDRESS LINE X fields.  Possible values include CIVIC, MAILING or LEGAL.';
COMMENT ON COLUMN sites.bcer_code IS E'BCER CODE is a unique code which identifies the BC Environment (BCE) REGION within which this SITE is located.';
COMMENT ON COLUMN sites.city IS E'PROFILE CITY contains city name component of the address for the SITE.';
COMMENT ON COLUMN sites.class_code IS E'CLASS CODE is a unique code identifying the CLASSIFCATION CD assocaited with the SITE, such as SS (Small Site - Simple Contamination), UNR (Unranked), or COMP (Complex).';
COMMENT ON COLUMN sites.common_name IS E'COMMON NAME is the name of SITE as it is commonly referred to.';
COMMENT ON COLUMN sites.consultant_submitted IS E'CONSULTANT SUBMITTED is a Y/N/(null) flag indicating whether the information pertaining to this SITE was submitted to the Ministry by a consultant.';
COMMENT ON COLUMN sites.general_description IS E'GENERAL DESCRIPTION contains free form text used to describe the SITE. It often contains information about how the lat/long was collect such as by GPS, or from mapsheet number XYZ. It may also contain additional location information such as 13 miles up the road from the interseconf of highway 14.';
COMMENT ON COLUMN sites.id IS E'ID is a system generated number used to uniquely identify a SITE. This number is viewable by the users and is used to refer top the SITE in other phases of work. In other tables, it is usually referred to as SITE_ID.';
COMMENT ON COLUMN sites.lat_degrees IS E'LATITUDE DEGREES is the degree component for the latitude of the SITEs position.';
COMMENT ON COLUMN sites.lat_minutes IS E'LATITUDE MINUTES is the minutes component for the latitude of the SITEs position.';
COMMENT ON COLUMN sites.lat_seconds IS E'LATITUDE SECONDS is the seconds component for the latitude of the SITEs position.';
COMMENT ON COLUMN sites.latdeg IS E'LATDEG is the decvimal degree representation of the latitude of the SITE.';
COMMENT ON COLUMN sites.latlong_reliability_flag IS E'The LATLONG RELIABILITY FLAG attempts to classify the reliability of the Lat/Long cooridinates for this SITE into one of three values: VERIFIED, SUSPECT or UNCONFIRMED. Verified means that the Minsitry has visually verified the coordinate poistion to be accurate to the best of their abilities.  Suspect means that the Ministry has reviewed the coordiantes, but there is a questions about the positional accuracy.  UNCONFIRMED means that the Ministry has not yet reviewed the coordinates. Note that these values are strictly for internal use to allow Ministry personel to track the reliability of the position.';
COMMENT ON COLUMN sites.long_degrees IS E'LONGITUDE DEGREES is the degrees component for the longitude of the SITEs position.';
COMMENT ON COLUMN sites.long_minutes IS E'LONGITUDE MINUTES is the minutes component for the longitude of the SITEs position.';
COMMENT ON COLUMN sites.long_seconds IS E'LONGITUDE SECONDS is the seconds component for the longitude of the SITEs position.';
COMMENT ON COLUMN sites.longdeg IS E'LONGDEG is the decimal degree representation of the longitude of the SITE.';
COMMENT ON COLUMN sites.postal_code IS E'PROFILE POSTAL CODE contains postal or zipcode component of the address for the SITE.';
COMMENT ON COLUMN sites.prov_state IS E'PROFILE PROV OR STATE contains the province or state component of the address for the SITE.';
COMMENT ON COLUMN sites.regional_file_no IS E'REGIONAL FILE NO refers to the File number of the SITE as recorded in  the regional office.';
COMMENT ON COLUMN sites.rwm_flag IS E'RWM FLAG is a numeric code indicating the Regional Waste Manager (RWM) approval status for this SITE. Note that the value has a complex non-trivial sequencing to allow it to track process flow. For example, 50 indicates the SITE has been approved by the Regional Waste Manager and is readt to go to the Site Registry, whereas 21 indicates it has been approval but is waiting final approval from the Registrar.';
COMMENT ON COLUMN sites.rwm_general_desc_flag IS E'RWM GENERAL DESC FLAG is a numeric code indicating the Regional Waste Manager (RWM) approval status for GENERAL DESCRIPTION field for this SITE. Note that the value has a complex non-trivial sequencing to allow it to track process flow. For example, 50 indicates the GENERAL DESCRIPTION has been approved by the Regional Waste Manager and is readt to go to the Site Registry, whereas 21 indicates it has been approval but is waiting final approval from the Registrar.';
COMMENT ON COLUMN sites.site_risk_code IS E'SITE RISK CODE is a unique code identifying the SITE RISK CD assocaited with the SITE, such as HR (High-risk), NHR (Non High-risk), or  UNC (Unclassified).';
COMMENT ON COLUMN sites.sr_status IS E'SR STATUS is a Y/N flag indicating whether this SITE should be exported (once approved) to the Site Registry (SR)  system.';
COMMENT ON COLUMN sites.sst_code IS E'SST CODE is a unique code used to iedntify the SITE STATUS TYPE (SST) associated with this site, such as AUA for (Active - Under Assessment) or US (Unknown Status).';
COMMENT ON COLUMN sites.victoria_file_no IS E'VICTORIA FILE NO refers to the File number of the SITE as recorded in Victoria.';
COMMENT ON COLUMN sites.when_created IS E'WHEN CREATED is the date when this record was created.';
COMMENT ON COLUMN sites.when_updated IS E'WHEN UPDATED is the date when this record was last updated or modified.';
COMMENT ON COLUMN sites.who_created IS E'WHO CREATED is the Oracle userid of the user who created this record.';
COMMENT ON COLUMN sites.who_updated IS E'WHO UPDATED is the Oracle userid of the user who last updated or modified this record.';
CREATE INDEX site_bco ON sites (id, bcer_code, sst_code, class_code, rwm_flag);
CREATE INDEX site_classification ON sites (class_code);
CREATE INDEX site_described_by_frgn ON sites (sst_code);
CREATE INDEX site_gen_desc_flag ON sites (rwm_general_desc_flag);
CREATE INDEX site_geom_ddx ON sites USING gist(geometry);
CREATE INDEX site_responsibility_o_frgn ON sites (bcer_code);
CREATE INDEX site_risk_is ON sites (site_risk_code);
ALTER TABLE sites ADD UNIQUE (victoria_file_no);
ALTER TABLE sites ADD PRIMARY KEY (id);
ALTER TABLE sites ALTER COLUMN id SET NOT NULL;
ALTER TABLE sites ALTER COLUMN bcer_code SET NOT NULL;
ALTER TABLE sites ALTER COLUMN sst_code SET NOT NULL;
ALTER TABLE sites ALTER COLUMN common_name SET NOT NULL;
ALTER TABLE sites ALTER COLUMN addr_type SET NOT NULL;
ALTER TABLE sites ALTER COLUMN addr_line_1 SET NOT NULL;
ALTER TABLE sites ALTER COLUMN city SET NOT NULL;
ALTER TABLE sites ALTER COLUMN prov_state SET NOT NULL;
ALTER TABLE sites ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE sites ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE sites ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE sites ALTER COLUMN rwm_general_desc_flag SET NOT NULL;
ALTER TABLE sites ALTER COLUMN sr_status SET NOT NULL;
ALTER TABLE sites ALTER COLUMN latlong_reliability_flag SET NOT NULL;
ALTER TABLE sites ALTER COLUMN site_risk_code SET NOT NULL;
ALTER TABLE sites ADD CONSTRAINT sys_c007795 CHECK (sr_status IN ('Y','N'));
ALTER TABLE sites ADD CONSTRAINT sys_c007796 CHECK (sr_status IN ('Y','N'));
ALTER TABLE sites ADD CONSTRAINT sys_c007798 CHECK (sr_status IN ('Y','N'));
ALTER TABLE sites ADD CONSTRAINT sys_c007799 CHECK (sr_status IN ('Y','N'));
ALTER TABLE sites ADD CONSTRAINT sys_c007801 CHECK (sr_status IN ('Y','N'));
ALTER TABLE sites ADD CONSTRAINT sys_c007802 CHECK (sr_status IN ('Y','N'));


CREATE TABLE site_assocs (
	site_id bigint NOT NULL,
	site_id_associated_with bigint NOT NULL,
	effective_date timestamp(0) NOT NULL,
	note varchar(255),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL,
	common_pid varchar(1) NOT NULL
) ;
COMMENT ON TABLE site_assocs IS E'The relationship of one SITE to another SITE that may share common AECs or administrative factors.';
COMMENT ON COLUMN site_assocs.effective_date IS E'Date when one SITE was associated with another SITE.';
COMMENT ON COLUMN site_assocs.note IS E'A comment about the relationship of the ASSOCIATED SITES.';
COMMENT ON COLUMN site_assocs.site_id IS E'A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN site_assocs.site_id_associated_with IS E'A system generated number used to uniquely identify a SITE.';
CREATE INDEX sa_adjacent_to_frgn ON site_assocs (site_id);
CREATE INDEX sa_associated_with_frgn ON site_assocs (site_id_associated_with);
CREATE INDEX sa_rwm_flag ON site_assocs (rwm_flag);
CREATE INDEX sa_rwm_note_flag ON site_assocs (rwm_note_flag);
ALTER TABLE site_assocs ADD PRIMARY KEY (site_id,site_id_associated_with);
ALTER TABLE site_assocs ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN site_id_associated_with SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN effective_date SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN rwm_note_flag SET NOT NULL;
ALTER TABLE site_assocs ALTER COLUMN common_pid SET NOT NULL;
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007777 CHECK (common_pid IN ('Y','N'));
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007778 CHECK (common_pid IN ('Y','N'));
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007779 CHECK (common_pid IN ('Y','N'));
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007780 CHECK (common_pid IN ('Y','N'));
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007781 CHECK (common_pid IN ('Y','N'));
ALTER TABLE site_assocs ADD CONSTRAINT sys_c007782 CHECK (common_pid IN ('Y','N'));


CREATE TABLE site_contamination_class_xref (
	sclc_id bigint NOT NULL,
	contamination_class_code varchar(6) NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0)
) ;
COMMENT ON TABLE site_contamination_class_xref IS E'Multiple selection of type of contamination code for each cite crown contaminated record';
COMMENT ON COLUMN site_contamination_class_xref.contamination_class_code IS E'A code which uniquely identifies a TYPE OFCONTAMINATION ';
COMMENT ON COLUMN site_contamination_class_xref.sclc_id IS E'Number identifying associated Site CROWN LAND CONTAMINATED';
ALTER TABLE site_contamination_class_xref ADD PRIMARY KEY (sclc_id,contamination_class_code);
ALTER TABLE site_contamination_class_xref ALTER COLUMN sclc_id SET NOT NULL;
ALTER TABLE site_contamination_class_xref ALTER COLUMN contamination_class_code SET NOT NULL;
ALTER TABLE site_contamination_class_xref ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_contamination_class_xref ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_crown_land_contaminated (
	id bigint NOT NULL,
	site_crown_land_status_code varchar(6) NOT NULL,
	psnorg_id bigint NOT NULL,
	estimated_cost_of_remediations double precision NOT NULL,
	actual_cost_of_remediations double precision,
	contamination_other_desc varchar(50),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30) DEFAULT statement_timestamp(),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0) DEFAULT statement_timestamp()
) ;
COMMENT ON TABLE site_crown_land_contaminated IS E'A PS3260 FOR A SITE';
COMMENT ON COLUMN site_crown_land_contaminated.actual_cost_of_remediations IS E'The actualc cost for the remediation';
COMMENT ON COLUMN site_crown_land_contaminated.id IS E'COLUMN DEFINITION A SITE_ID FROM SITE.ID';
COMMENT ON COLUMN site_crown_land_contaminated.psnorg_id IS E'Number identifying associated Site Participant record';
COMMENT ON COLUMN site_crown_land_contaminated.site_crown_land_status_code IS E'A code which uniquely identifies a PS3260 STATUS';
ALTER TABLE site_crown_land_contaminated ADD PRIMARY KEY (id);
ALTER TABLE site_crown_land_contaminated ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_crown_land_contaminated ALTER COLUMN site_crown_land_status_code SET NOT NULL;
ALTER TABLE site_crown_land_contaminated ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE site_crown_land_contaminated ALTER COLUMN estimated_cost_of_remediations SET NOT NULL;
ALTER TABLE site_crown_land_contaminated ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_crown_land_contaminated ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_crown_land_contaminatedbk (
	id bigint NOT NULL,
	site_crown_land_status_code varchar(6) NOT NULL,
	sp_id bigint NOT NULL,
	estimated_cost_of_remediations double precision NOT NULL,
	actual_cost_of_remediations double precision,
	contamination_other_desc varchar(50),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30) DEFAULT statement_timestamp(),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0) DEFAULT statement_timestamp()
) ;
COMMENT ON TABLE site_crown_land_contaminatedbk IS E'A PS3260 FOR A SITE';
COMMENT ON COLUMN site_crown_land_contaminatedbk.actual_cost_of_remediations IS E'The actualc cost for the remediation';
COMMENT ON COLUMN site_crown_land_contaminatedbk.id IS E'COLUMN DEFINITION A SITE_ID FROM SITE.ID';
COMMENT ON COLUMN site_crown_land_contaminatedbk.site_crown_land_status_code IS E'A code which uniquely identifies a PS3260 STATUS';
COMMENT ON COLUMN site_crown_land_contaminatedbk.sp_id IS E'Number identifying associated Site Participant record';
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN site_crown_land_status_code SET NOT NULL;
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN sp_id SET NOT NULL;
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN estimated_cost_of_remediations SET NOT NULL;
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_crown_land_contaminatedbk ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_crown_land_status_cd (
	code varchar(6) NOT NULL,
	description varchar(140) NOT NULL
) ;
COMMENT ON TABLE site_crown_land_status_cd IS E'An administration area in the province of British Columbia.';
COMMENT ON COLUMN site_crown_land_status_cd.code IS E'Code which uniquely identifies status code of ps3260 form';
COMMENT ON COLUMN site_crown_land_status_cd.description IS E'Name associated with unique status code of ps3260 form';
ALTER TABLE site_crown_land_status_cd ADD PRIMARY KEY (code);
ALTER TABLE site_crown_land_status_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE site_crown_land_status_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE site_docs (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	submission_date timestamp(0) NOT NULL,
	document_date timestamp(0),
	title varchar(150) NOT NULL,
	note varchar(255),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint
) ;
COMMENT ON TABLE site_docs IS E'Data related to the environmental consultant documents/reports commissioned by a property owner or other party.';
COMMENT ON COLUMN site_docs.document_date IS E'Date that the document was written.';
COMMENT ON COLUMN site_docs.id IS E'A system generated number used to uniquely identify DOCUMENT.';
COMMENT ON COLUMN site_docs.note IS E'Comment with respect to the document.';
COMMENT ON COLUMN site_docs.site_id IS E'A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN site_docs.submission_date IS E'Date that the document was received by BC Environment.';
COMMENT ON COLUMN site_docs.title IS E'Title of the document received.';
CREATE INDEX sdoc_about_frgn ON site_docs (site_id);
CREATE INDEX sdoc_rwm_flag ON site_docs (rwm_flag);
ALTER TABLE site_docs ADD PRIMARY KEY (id);
ALTER TABLE site_docs ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN submission_date SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN title SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_docs ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE site_doc_partics (
	id bigint NOT NULL,
	dpr_code varchar(6) NOT NULL,
	sdoc_id bigint NOT NULL,
	sp_id bigint NOT NULL,
	psnorg_id bigint NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE site_doc_partics IS E'A SITE PARTICIPANT who plays a role in a particular SITE DOCUMENT';
COMMENT ON COLUMN site_doc_partics.dpr_code IS E'A code used to uniquely identify a SITE DOCUMENT ROLE.';
COMMENT ON COLUMN site_doc_partics.psnorg_id IS E'A system generated number used to uniquely identify PERSON / ORG.';
COMMENT ON COLUMN site_doc_partics.sdoc_id IS E'A system generated number used to uniquely identify DOCUMENT.';
COMMENT ON COLUMN site_doc_partics.sp_id IS E'Number identifying associated Site Participant record';
CREATE INDEX sdp_classified_by_frgn ON site_doc_partics (dpr_code);
CREATE INDEX sdp_played_by_frgn ON site_doc_partics (sp_id);
CREATE INDEX sdp_playing_a_role_i_frgn ON site_doc_partics (sdoc_id);
CREATE INDEX sdp_psnorg_frgn ON site_doc_partics (psnorg_id);
CREATE INDEX sdp_rwm_flag ON site_doc_partics (rwm_flag);
ALTER TABLE site_doc_partics ADD UNIQUE (sdoc_id,psnorg_id,dpr_code);
ALTER TABLE site_doc_partics ADD PRIMARY KEY (id);
ALTER TABLE site_doc_partics ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN dpr_code SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN sdoc_id SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN sp_id SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_doc_partics ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE site_partics (
	id bigint NOT NULL,
	site_id bigint NOT NULL,
	psnorg_id bigint NOT NULL,
	effective_date timestamp(0) NOT NULL,
	end_date timestamp(0),
	note char(255),
	who_created char(30) NOT NULL,
	who_updated char(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL,
	rwm_note_flag smallint NOT NULL
) ;
COMMENT ON TABLE site_partics IS E'A PERSON/ORGANIZATION associated with a particular SITE';
COMMENT ON COLUMN site_partics.effective_date IS E'Date of affiliation (default to entry date).';
COMMENT ON COLUMN site_partics.end_date IS E'Date participation ended.';
COMMENT ON COLUMN site_partics.id IS E'Unique number identifying this record';
COMMENT ON COLUMN site_partics.note IS E'Comment relating to the AFFILIATEs involvement in the SITE.';
COMMENT ON COLUMN site_partics.psnorg_id IS E'A system generated number used to uniquely identify PERSON / ORG.';
COMMENT ON COLUMN site_partics.site_id IS E'A system generated number used to uniquely identify a SITE.';
CREATE INDEX sp_identified_by2_frgn ON site_partics (site_id);
CREATE INDEX sp_identified_by_frgn ON site_partics (psnorg_id);
CREATE INDEX sp_rwm_flag ON site_partics (rwm_flag);
ALTER TABLE site_partics ADD PRIMARY KEY (id);
ALTER TABLE site_partics ADD CONSTRAINT sp_ck1 CHECK ( (end_date IS NULL OR end_date >= effective_date));
ALTER TABLE site_partics ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN effective_date SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN rwm_flag SET NOT NULL;
ALTER TABLE site_partics ALTER COLUMN rwm_note_flag SET NOT NULL;


CREATE TABLE site_partic_roles (
	pr_code varchar(6) NOT NULL,
	sp_id bigint NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	rwm_flag smallint NOT NULL
) ;
COMMENT ON TABLE site_partic_roles IS E'One PARTICIPANT ROLE that a PERSON / ORGANIZATION (SITE PARTICIPANT) plays with respect to a particular SITE.';
COMMENT ON COLUMN site_partic_roles.pr_code IS E'A code which uniquely identifies a PARTICIPANT ROLE.';
COMMENT ON COLUMN site_partic_roles.sp_id IS E'Number identifying associated Site Participant record';
CREATE INDEX spr_classified_by_frgn ON site_partic_roles (pr_code);
CREATE INDEX spr_classifying_frgn ON site_partic_roles (sp_id);
CREATE INDEX spr_rwm_flag ON site_partic_roles (rwm_flag);
ALTER TABLE site_partic_roles ADD PRIMARY KEY (sp_id,pr_code);
ALTER TABLE site_partic_roles ALTER COLUMN pr_code SET NOT NULL;
ALTER TABLE site_partic_roles ALTER COLUMN sp_id SET NOT NULL;
ALTER TABLE site_partic_roles ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_partic_roles ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_partic_roles ALTER COLUMN rwm_flag SET NOT NULL;


CREATE TABLE site_profiles (
	site_id bigint NOT NULL,
	date_completed timestamp(0) NOT NULL,
	local_auth_date_recd timestamp(0),
	local_auth_name varchar(200),
	local_auth_agency varchar(200),
	local_auth_address1 varchar(40),
	local_auth_address2 varchar(40),
	local_auth_phone_area_code varchar(3),
	local_auth_phone_no varchar(7),
	local_auth_fax_area_code varchar(3),
	local_auth_fax_no varchar(7),
	local_auth_date_submitted timestamp(0),
	local_auth_date_forwarded timestamp(0),
	rwm_date_received timestamp(0),
	rwm_partic_id bigint,
	rwm_phone_area_code varchar(3),
	rwm_phone_no varchar(7),
	rwm_fax_area_code varchar(3),
	rwm_fax_no varchar(7),
	investigation_required char(1),
	rwm_date_decision timestamp(0),
	site_reg_date_recd timestamp(0),
	site_reg_date_entered timestamp(0),
	site_reg_partic_id bigint,
	owner_partic_id bigint,
	completor_partic_id bigint,
	contact_partic_id bigint,
	site_address varchar(100),
	site_city varchar(30),
	site_postal_code varchar(10),
	number_of_pids smallint,
	number_of_pins smallint,
	lat_degrees smallint,
	lat_minutes smallint,
	lat_seconds decimal(4,2),
	long_degrees smallint,
	long_minutes smallint,
	long_seconds decimal(4,2),
	comments varchar(2000),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	local_auth_email varchar(50),
	planned_activity_comment varchar(2000),
	site_disclosure_comment varchar(2000),
	gov_documents_comment varchar(2000)
) ;
COMMENT ON TABLE site_profiles IS E'A summation of information collected on a site profile';
COMMENT ON COLUMN site_profiles.completor_partic_id IS E'SITE PARTICIPANT ID FOR THE PERSON WHO COMPLETED THIS SITE PROFILE.';
COMMENT ON COLUMN site_profiles.contact_partic_id IS E'SITE PARTICIPANT ID FOR THE PRIMARY CONTACT FOR THIS SITE PROFILE.';
COMMENT ON COLUMN site_profiles.date_completed IS E'Date the Site Profile was completed.';
COMMENT ON COLUMN site_profiles.gov_documents_comment IS E'Any past or present government orders, permits, approvals, certificates or notifications pertaining to the environmental condition of the site.';
COMMENT ON COLUMN site_profiles.investigation_required IS E'Determines whether further investigation is required or not.';
COMMENT ON COLUMN site_profiles.lat_degrees IS E'Geographic Coordinates for the Site - Latitude (degrees)';
COMMENT ON COLUMN site_profiles.lat_minutes IS E'Geographic Coordinates for the Site - Latitude (minutes)';
COMMENT ON COLUMN site_profiles.lat_seconds IS E'Geographic Coordinates for the Site - Latitude (seconds)';
COMMENT ON COLUMN site_profiles.local_auth_address1 IS E'Address for the Local Authority (1st line).';
COMMENT ON COLUMN site_profiles.local_auth_address2 IS E'Address for the Local Authority (2nd line).';
COMMENT ON COLUMN site_profiles.local_auth_agency IS E'Name of the Agency the Local Authority is affiliated with.';
COMMENT ON COLUMN site_profiles.local_auth_date_forwarded IS E'Date Site Profile was forwarded to the Regional Waste Manager.';
COMMENT ON COLUMN site_profiles.local_auth_date_recd IS E'Date Site Profile was received by the Local Authority';
COMMENT ON COLUMN site_profiles.local_auth_date_submitted IS E'Date the Site Profile was submitted to the Site Registrar.';
COMMENT ON COLUMN site_profiles.local_auth_email IS E'Email for the Local Authority.';
COMMENT ON COLUMN site_profiles.local_auth_fax_area_code IS E'Area Code for Fax number for the Local Authority.';
COMMENT ON COLUMN site_profiles.local_auth_fax_no IS E'Fax number for the Local Authority.';
COMMENT ON COLUMN site_profiles.local_auth_name IS E'Name of the Local Authority who assessed the Site.';
COMMENT ON COLUMN site_profiles.local_auth_phone_area_code IS E'Area code for phone number for the Local Authority.';
COMMENT ON COLUMN site_profiles.local_auth_phone_no IS E'Phone number for the Local Authority.';
COMMENT ON COLUMN site_profiles.long_degrees IS E'Geographic Coordinates for the Site - Longitude (degrees)';
COMMENT ON COLUMN site_profiles.long_minutes IS E'Geographic Coordinates for the Site - Longitude (minutes)';
COMMENT ON COLUMN site_profiles.long_seconds IS E'Geographic Coordinates for the Site - Longitude (seconds)';
COMMENT ON COLUMN site_profiles.number_of_pids IS E'Number of PIDs entered for this Site Profile.';
COMMENT ON COLUMN site_profiles.number_of_pins IS E'Number of PINs entered for this Site Profile.';
COMMENT ON COLUMN site_profiles.owner_partic_id IS E'Column no longer used: see site_profile_owners table instead';
COMMENT ON COLUMN site_profiles.planned_activity_comment IS E'Brief summary of the planned activity and proposed land use at the site.';
COMMENT ON COLUMN site_profiles.rwm_date_decision IS E'Date the Regional Waste Manager made the decision.';
COMMENT ON COLUMN site_profiles.rwm_date_received IS E'Date the Site Profile was received by the Regional Waste Manager.';
COMMENT ON COLUMN site_profiles.rwm_partic_id IS E'SITE PARTICIPANT ID FOR THE REGIONAL WASTE MANAGER.';
COMMENT ON COLUMN site_profiles.site_address IS E'Street address for the Site (as entered on the Site Profile).';
COMMENT ON COLUMN site_profiles.site_city IS E'City where the Site exists.';
COMMENT ON COLUMN site_profiles.site_disclosure_comment IS E'Information used to complete this site disclosure statement including a list of record searches completed.';
COMMENT ON COLUMN site_profiles.site_id IS E'(COPIED)A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN site_profiles.site_postal_code IS E'Postal Code for the Site.';
COMMENT ON COLUMN site_profiles.site_reg_date_entered IS E'Date Site Profile was entered into the Site Information System.';
COMMENT ON COLUMN site_profiles.site_reg_date_recd IS E'Date the Site Profile was received by the Site Registrar';
COMMENT ON COLUMN site_profiles.site_reg_partic_id IS E'SITE PARTICIPANT ID FOR THE SITE REGISTRAR';
CREATE INDEX sprof_rwm_site_partic ON site_profiles (rwm_partic_id);
CREATE INDEX sprof_site_reg_site_partic ON site_profiles (site_reg_partic_id);
ALTER TABLE site_profiles ADD PRIMARY KEY (site_id,date_completed);
ALTER TABLE site_profiles ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_profiles ALTER COLUMN date_completed SET NOT NULL;
ALTER TABLE site_profiles ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_profiles ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_profile_land_uses (
	site_id bigint NOT NULL,
	sprof_date_completed timestamp(0) NOT NULL,
	lut_code varchar(6) NOT NULL,
	who_created varchar(16) NOT NULL,
	when_created timestamp(0) NOT NULL
) ;
COMMENT ON TABLE site_profile_land_uses IS E'- Retrofitted';
COMMENT ON COLUMN site_profile_land_uses.lut_code IS E' - Retrofitted';
COMMENT ON COLUMN site_profile_land_uses.site_id IS E' - Retrofitted';
COMMENT ON COLUMN site_profile_land_uses.sprof_date_completed IS E' - Retrofitted';
COMMENT ON COLUMN site_profile_land_uses.when_created IS E' - Retrofitted';
COMMENT ON COLUMN site_profile_land_uses.who_created IS E' - Retrofitted';
ALTER TABLE site_profile_land_uses ADD PRIMARY KEY (site_id,sprof_date_completed,lut_code);
ALTER TABLE site_profile_land_uses ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_profile_land_uses ALTER COLUMN sprof_date_completed SET NOT NULL;
ALTER TABLE site_profile_land_uses ALTER COLUMN lut_code SET NOT NULL;
ALTER TABLE site_profile_land_uses ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_profile_land_uses ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_profile_owners (
	site_id bigint NOT NULL,
	date_completed timestamp(0) NOT NULL,
	sp_id bigint NOT NULL,
	owner_company_contact varchar(150),
	agent_authorized_ind varchar(1)
) ;
COMMENT ON COLUMN site_profile_owners.agent_authorized_ind IS E'Determines whether agent is authorized to complete form on behalf of the owner or operator.';
COMMENT ON COLUMN site_profile_owners.date_completed IS E'Date the Site Profile was completed.';
COMMENT ON COLUMN site_profile_owners.owner_company_contact IS E'The contact for the company, with respect to this site profile.';
COMMENT ON COLUMN site_profile_owners.site_id IS E'(COPIED)A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN site_profile_owners.sp_id IS E'Unique number identifying this record';
CREATE INDEX spown_sprof_fk_i ON site_profile_owners (site_id, date_completed);
CREATE INDEX spown_sp_fk_i ON site_profile_owners (sp_id);
ALTER TABLE site_profile_owners ADD PRIMARY KEY (site_id,date_completed,sp_id);
ALTER TABLE site_profile_owners ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_profile_owners ALTER COLUMN date_completed SET NOT NULL;
ALTER TABLE site_profile_owners ALTER COLUMN sp_id SET NOT NULL;


CREATE TABLE site_registry (
	site_id bigint NOT NULL,
	reg_flag smallint,
	reg_userid varchar(16),
	init_approval_date timestamp(0),
	last_approval_date timestamp(0),
	tombstone_date timestamp(0)
) ;
COMMENT ON TABLE site_registry IS E'Information about whether a SITE has been approved for the Site Registry';
CREATE INDEX sitereg_bco ON site_registry (site_id, reg_flag);
ALTER TABLE site_registry ADD PRIMARY KEY (site_id);
ALTER TABLE site_registry ALTER COLUMN site_id SET NOT NULL;


CREATE TABLE site_registry_module (
	sites char(1),
	site_location_description char(1),
	site_partics char(1),
	site_partic_notes char(1),
	site_partic_roles char(1),
	site_partic_dates char(1),
	notations char(1),
	notation_notes char(1),
	notation_actions char(1),
	notation_partics char(1),
	documents char(1),
	document_notes char(1),
	document_partics char(1),
	document_abstracts char(1),
	document_measure_pops char(1),
	document_measure_details char(1),
	associations char(1),
	association_notes char(1),
	association_dates char(1),
	suspect_land_uses char(1),
	suspect_land_use_notes char(1),
	aec_assessments char(1),
	aec_assessment_mig_potential char(1),
	aec_assessment_sources char(1),
	aec_assessment_medias char(1),
	aec_assessment_media_notes char(1),
	aec_assessment_pcocs char(1),
	aec_remed_plans char(1),
	aec_remed_plan_notes char(1),
	aec_remed_plan_items char(1),
	aec_remed_plan_item_measures char(1),
	aec_remed_approaches char(1)
) ;


CREATE TABLE site_risk_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL
) ;
COMMENT ON TABLE site_risk_cd IS E'A site is classified as a high risk site under the ministry''s protocol 12 (http://www2.gov.bc.ca/assets/gov/environment/air-land-water/site-remediation/docs/protocols/protocol_12.pdf) if mobile nonaqueous phase liquids (NAPLs) are present or exposure to specified concentrations of contaminants is likely. The values will be HR (High-risk), NHR (Non High-risk), or  UNC (Unclassified)';
COMMENT ON COLUMN site_risk_cd.code IS E'A code used to uniquely identify a site SITE_RISK.';
COMMENT ON COLUMN site_risk_cd.description IS E'Textual description for the SITE_RISK code.';
ALTER TABLE site_risk_cd ADD PRIMARY KEY (code);
ALTER TABLE site_risk_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE site_risk_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE site_staffs (
	id bigint NOT NULL,
	psnorg_id bigint NOT NULL,
	emp_num varchar(10),
	user_id varchar(16) NOT NULL,
	e_mail_addr varchar(40),
	stftype_code varchar(6),
	prt_name varchar(15) NOT NULL,
	display_name varchar(255),
	region_code varchar(6),
	start_date timestamp(0) NOT NULL,
	termination_date timestamp(0),
	staff_role varchar(12) NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	last_name varchar(150),
	first_name varchar(75)
) ;
COMMENT ON TABLE site_staffs IS E'a user of the Site Information system';
COMMENT ON COLUMN site_staffs.id IS E'COLUMN DEFINITION DERIVED FROM ATTRIBUTE ID';
COMMENT ON COLUMN site_staffs.prt_name IS E'(COPIED)System name of the printer device';
COMMENT ON COLUMN site_staffs.psnorg_id IS E'(COPIED)A system generated number used to uniquely identify PERSON / O';
COMMENT ON COLUMN site_staffs.user_id IS E'Electronic system login id for the staff member';
CREATE INDEX site_staff_employed_as_frgn ON site_staffs (psnorg_id);
ALTER TABLE site_staffs ADD UNIQUE (psnorg_id,start_date);
ALTER TABLE site_staffs ADD PRIMARY KEY (id);
ALTER TABLE site_staffs ADD CONSTRAINT site_staff_ck1 CHECK ( termination_date is null or            start_date <= termination_date);
ALTER TABLE site_staffs ALTER COLUMN id SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN psnorg_id SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN user_id SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN prt_name SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN start_date SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN staff_role SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_staffs ALTER COLUMN when_created SET NOT NULL;


CREATE TABLE site_status_cd (
	code varchar(6) NOT NULL,
	description varchar(120) NOT NULL
) ;
COMMENT ON TABLE site_status_cd IS E'A state that a SITE may be in at a given point in time (eg: abandoned, inactive, under investigation etc).';
COMMENT ON COLUMN site_status_cd.code IS E'A unique code used to identify an occurrence of SITE STATUS TYPE.';
COMMENT ON COLUMN site_status_cd.description IS E'A description of an occurrence of SITE STATUS TYPE.';
ALTER TABLE site_status_cd ADD PRIMARY KEY (code);
ALTER TABLE site_status_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE site_status_cd ALTER COLUMN description SET NOT NULL;


CREATE TABLE site_subdivisions (
	site_id bigint NOT NULL,
	subdiv_id bigint NOT NULL,
	date_noted timestamp(0) NOT NULL,
	initial_indicator varchar(1) NOT NULL,
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	sprof_date_completed timestamp(0),
	site_subdiv_id bigint NOT NULL,
	send_to_sr varchar(1) NOT NULL
) ;
COMMENT ON TABLE site_subdivisions IS E'A SUBDIVISION (Crown/Private parcel of land) within a SITE"s boundaries.';
COMMENT ON COLUMN site_subdivisions.date_noted IS E'The date on which the SITE SUBDIVISION was noted.';
COMMENT ON COLUMN site_subdivisions.initial_indicator IS E'Indicates if SITE SUBDIVISION was created when initial SITE was.';
COMMENT ON COLUMN site_subdivisions.site_id IS E'A system generated number used to uniquely identify a SITE.';
COMMENT ON COLUMN site_subdivisions.subdiv_id IS E'A number used to uniquely identify a SUBDIVISION.';
CREATE INDEX sitesub_comprised_of_frgn ON site_subdivisions (subdiv_id);
CREATE INDEX sitesub_for_profile ON site_subdivisions (sprof_date_completed);
CREATE INDEX sitesub_part_or_all_of_frgn ON site_subdivisions (site_id);
ALTER TABLE site_subdivisions ADD PRIMARY KEY (site_subdiv_id);
ALTER TABLE site_subdivisions ADD UNIQUE (site_id,subdiv_id,sprof_date_completed);
ALTER TABLE site_subdivisions ALTER COLUMN site_id SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN subdiv_id SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN date_noted SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN initial_indicator SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN site_subdiv_id SET NOT NULL;
ALTER TABLE site_subdivisions ALTER COLUMN send_to_sr SET NOT NULL;
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007716 CHECK (send_to_sr                     in ('Y','N'));
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007717 CHECK (send_to_sr                     in ('Y','N'));
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007718 CHECK (send_to_sr                     in ('Y','N'));
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007719 CHECK (send_to_sr                     in ('Y','N'));
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007720 CHECK (send_to_sr                     in ('Y','N'));
ALTER TABLE site_subdivisions ADD CONSTRAINT sys_c007722 CHECK (send_to_sr                     in ('Y','N'));


CREATE TABLE source_cd (
	code varchar(80) NOT NULL
) ;
ALTER TABLE source_cd ADD PRIMARY KEY (code);
ALTER TABLE source_cd ALTER COLUMN code SET NOT NULL;


CREATE TABLE subdivisions (
	id bigint NOT NULL,
	date_noted timestamp(0) NOT NULL,
	pin varchar(9),
	pid varchar(9),
	bcaa_folio_number varchar(20),
	entity_type varchar(4),
	addr_line_1 varchar(50),
	addr_line_2 varchar(50),
	addr_line_3 varchar(50),
	addr_line_4 varchar(50),
	city varchar(30),
	postal_code varchar(10),
	legal_description varchar(255),
	who_created varchar(30) NOT NULL,
	who_updated varchar(30),
	when_created timestamp(0) NOT NULL,
	when_updated timestamp(0),
	crown_lands_file_no varchar(7),
	pid_status_cd varchar(1) NOT NULL,
	valid_pid char(1)
) ;
COMMENT ON TABLE subdivisions IS E'A parcel of Crown or Private land.';
COMMENT ON COLUMN subdivisions.addr_line_1 IS E'Civic address line 1 associated with the property identifier.';
COMMENT ON COLUMN subdivisions.addr_line_2 IS E'Civic address line 2 associated with the property identifier.';
COMMENT ON COLUMN subdivisions.addr_line_3 IS E'Civic address line 3 associated with the property identifier.';
COMMENT ON COLUMN subdivisions.addr_line_4 IS E'Civic address line 4 associated with the property identifier.';
COMMENT ON COLUMN subdivisions.city IS E'City of civic address.';
COMMENT ON COLUMN subdivisions.date_noted IS E'The date that this division was noted.';
COMMENT ON COLUMN subdivisions.entity_type IS E'Indentifies the type of subdivision';
COMMENT ON COLUMN subdivisions.id IS E'A number used to uniquely identify a SUBDIVISION.';
COMMENT ON COLUMN subdivisions.pid IS E'Property identifier for privately owned land.';
COMMENT ON COLUMN subdivisions.pin IS E'A property identification number used for Crown owned land.';
ALTER TABLE subdivisions ADD PRIMARY KEY (id);
ALTER TABLE subdivisions ADD UNIQUE (pid,pin);
ALTER TABLE subdivisions ALTER COLUMN id SET NOT NULL;
ALTER TABLE subdivisions ALTER COLUMN date_noted SET NOT NULL;
ALTER TABLE subdivisions ALTER COLUMN who_created SET NOT NULL;
ALTER TABLE subdivisions ALTER COLUMN when_created SET NOT NULL;
ALTER TABLE subdivisions ALTER COLUMN pid_status_cd SET NOT NULL;


CREATE TABLE submission_cd (
	code varchar(6) NOT NULL,
	description varchar(40) NOT NULL,
	used_in varchar(4) NOT NULL
) ;
COMMENT ON COLUMN submission_cd.code IS E'Submission Code';
COMMENT ON COLUMN submission_cd.used_in IS E'Which entity submitted the site-profile? BCE manager or Local Aut';
ALTER TABLE submission_cd ADD PRIMARY KEY (code);
ALTER TABLE submission_cd ALTER COLUMN code SET NOT NULL;
ALTER TABLE submission_cd ALTER COLUMN description SET NOT NULL;
ALTER TABLE submission_cd ALTER COLUMN used_in SET NOT NULL;
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007739 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007740 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007741 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007742 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007743 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE submission_cd ADD CONSTRAINT sys_c007744 CHECK ( used_in IN ( 'BCE' , 'LA' ));
ALTER TABLE activity_cd ADD CONSTRAINT activity_protcat_frgn FOREIGN KEY (protcat_code) REFERENCES protection_category_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_assessments ADD CONSTRAINT aecass_site_id_frgn FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_medias ADD CONSTRAINT aecmedia_assessment_frgn FOREIGN KEY (site_id,aecass_area_id) REFERENCES aec_assessments(site_id,area_id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_medias ADD CONSTRAINT aecmedia_media_frgn FOREIGN KEY (media_cd) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_pcocs ADD CONSTRAINT aecpcocs_media_frgn FOREIGN KEY (media_id) REFERENCES aec_medias(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_pcocs ADD CONSTRAINT aecpcoc_assessments_frgn FOREIGN KEY (site_id,aecass_area_id) REFERENCES aec_assessments(site_id,area_id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_pcocs ADD CONSTRAINT aecpcoc_contam_criteria_frgn FOREIGN KEY (media_cd,criteria_cd,contaminant_cd,level_cd) REFERENCES criteria_level_cd(media_cd,criteria_cd,contaminant_code,level_code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_remediations ADD CONSTRAINT aecrem_media_frgn FOREIGN KEY (media_code) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remediations ADD CONSTRAINT aecrem_sites_frgn FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_remed_approaches ADD CONSTRAINT aecremapp_criteria_frgn FOREIGN KEY (criteria_code) REFERENCES criteria_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_approaches ADD CONSTRAINT aecremapp_rem_frgn FOREIGN KEY (aecrem_id) REFERENCES aec_remediations(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_approaches ADD CONSTRAINT aecremapp_rem_use_frgn FOREIGN KEY (remed_site_use_code) REFERENCES remed_site_use_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_approaches ADD CONSTRAINT aecremapp_sites_frgn FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_remed_items ADD CONSTRAINT aecremitems_aecremapp_frgn FOREIGN KEY (aecremapp_id) REFERENCES aec_remed_approaches(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_items ADD CONSTRAINT aecremitems_pcoc_frgn FOREIGN KEY (aecpcoc_id) REFERENCES aec_pcocs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_items ADD CONSTRAINT aecremitens_sites_frgn FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_remed_measures ADD CONSTRAINT aecremmea_aecrem FOREIGN KEY (aecrem_id) REFERENCES aec_remediations(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_measures ADD CONSTRAINT aecremmea_remmea_cd_frgn FOREIGN KEY (remed_measure_cd) REFERENCES remed_measure_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_remed_measures ADD CONSTRAINT aecremmea_sites_frgn FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE aec_sources ADD CONSTRAINT aecsrce_assessment_frgn FOREIGN KEY (site_id,aecass_area_id) REFERENCES aec_assessments(site_id,area_id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE aec_sources ADD CONSTRAINT aecsrce_source_frgn FOREIGN KEY (source_cd) REFERENCES source_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE city_regions ADD CONSTRAINT cr_associated_region FOREIGN KEY (bcer_code) REFERENCES bce_region_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE conditions_text ADD CONSTRAINT ctext_applied_to FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE criteria_level_cd ADD CONSTRAINT criteria_cd_frgn FOREIGN KEY (criteria_cd) REFERENCES criteria_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE criteria_level_cd ADD CONSTRAINT criteria_contaminant_frgn FOREIGN KEY (contaminant_code) REFERENCES contam_cd(contaminant) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE criteria_level_cd ADD CONSTRAINT criteria_media_cd_frgn FOREIGN KEY (media_cd) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE criteria_level_cd ADD CONSTRAINT criteria_remed_use_frgn FOREIGN KEY (remed_site_use_cd) REFERENCES remed_site_use_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE doc_abstracts ADD CONSTRAINT docabst_a_summarization_ FOREIGN KEY (sdoc_id) REFERENCES site_docs(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE events ADD CONSTRAINT event_applicable_to FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE events ADD CONSTRAINT event_described_by FOREIGN KEY (etyp_code,ecls_code) REFERENCES event_type_cd(code,ecls_code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE event_partics ADD CONSTRAINT ep_classified_by FOREIGN KEY (epr_code) REFERENCES event_partic_role_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE event_partics ADD CONSTRAINT ep_played_by FOREIGN KEY (sp_id) REFERENCES site_partics(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE event_partics ADD CONSTRAINT ep_playing_a_role_i FOREIGN KEY (event_id) REFERENCES events(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE event_partics ADD CONSTRAINT ep_psnorg_id FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE event_type_cd ADD CONSTRAINT etyp_classified_by FOREIGN KEY (ecls_code) REFERENCES event_class_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE event_type_cd ADD CONSTRAINT etyp_related_to FOREIGN KEY (sst_code) REFERENCES site_status_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE land_histories ADD CONSTRAINT sluh_applicable_to FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE land_histories ADD CONSTRAINT sluh_described_by FOREIGN KEY (lut_code) REFERENCES land_use_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE load_measurements ADD CONSTRAINT load_meas_contam_fk FOREIGN KEY (contaminant_cd) REFERENCES contam_cd(contaminant) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE load_measurements ADD CONSTRAINT load_meas_media_fk FOREIGN KEY (media_cd) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE mailout ADD CONSTRAINT mailout_for_site FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE mailout ADD CONSTRAINT mailout_loc_for FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE mailout ADD CONSTRAINT mailout_region_for FOREIGN KEY (bcer_code) REFERENCES bce_region_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_activity_frgn FOREIGN KEY (activity_code) REFERENCES activity_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_contam_frgn FOREIGN KEY (contaminant_code) REFERENCES contam_cd(contaminant) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_criteria_frgn FOREIGN KEY (criteria_code) REFERENCES criteria_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_media_frgn FOREIGN KEY (media_code) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_protcat_frgn FOREIGN KEY (protcat_code) REFERENCES protection_category_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE matrix_objectives ADD CONSTRAINT matobj_remed_use_frgn FOREIGN KEY (remed_site_use_code) REFERENCES remed_site_use_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE measurements ADD CONSTRAINT msmt_contaminant_fk FOREIGN KEY (contaminant_cd) REFERENCES contam_cd(contaminant) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE measurements ADD CONSTRAINT msmt_media_fk FOREIGN KEY (media_cd) REFERENCES media_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE measurements ADD CONSTRAINT msmt_pop_id_fk FOREIGN KEY (msmt_pop_id) REFERENCES measurement_populations(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE measurement_populations ADD CONSTRAINT msmt_pop_aecass_fk FOREIGN KEY (site_id,associated_aecass_id) REFERENCES aec_assessments(site_id,area_id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE measurement_populations ADD CONSTRAINT msmt_pop_sdoc_fk FOREIGN KEY (sdoc_id) REFERENCES site_docs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE measurement_populations ADD CONSTRAINT msmt_pop_site_fk FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE people_orgs ADD CONSTRAINT psnorg_working_within FOREIGN KEY (bcer_code) REFERENCES bce_region_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_answers ADD CONSTRAINT profans_questions FOREIGN KEY (question_id) REFERENCES profile_questions(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE profile_answers ADD CONSTRAINT profans_questions_in_a FOREIGN KEY (site_id,sprof_date_completed) REFERENCES site_profiles(site_id,date_completed) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_questions ADD CONSTRAINT profque_a_question_in FOREIGN KEY (category_id) REFERENCES profile_categories(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE profile_questions ADD CONSTRAINT profque_a_subquestion_of FOREIGN KEY (parent_id) REFERENCES profile_questions(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE profile_submissions ADD CONSTRAINT profsbm_sprof_fk FOREIGN KEY (sprof_site_id,sprof_date_completed) REFERENCES site_profiles(site_id,date_completed) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE profile_submissions ADD CONSTRAINT profsbm_submcd_fk FOREIGN KEY (submcd_code) REFERENCES submission_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sis_addresses ADD CONSTRAINT addr_a_location_for FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sites ADD CONSTRAINT site_classified_as FOREIGN KEY (class_code) REFERENCES classification_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE sites ADD CONSTRAINT site_described_by FOREIGN KEY (sst_code) REFERENCES site_status_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE sites ADD CONSTRAINT site_responsibility_o FOREIGN KEY (bcer_code) REFERENCES bce_region_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE sites ADD CONSTRAINT site_risk_is FOREIGN KEY (site_risk_code) REFERENCES site_risk_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_assocs ADD CONSTRAINT sa_adjacent_to FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_assocs ADD CONSTRAINT sa_associated_with FOREIGN KEY (site_id_associated_with) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_contamination_class_xref ADD CONSTRAINT sccc_code_fk FOREIGN KEY (contamination_class_code) REFERENCES contamination_class_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_contamination_class_xref ADD CONSTRAINT sccc_id_fk FOREIGN KEY (sclc_id) REFERENCES site_crown_land_contaminated(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_crown_land_contaminated ADD CONSTRAINT sis_crown_cont_people_orgs_fk FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_crown_land_contaminated ADD CONSTRAINT sis_crown_cont_site_fk FOREIGN KEY (id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_crown_land_contaminated ADD CONSTRAINT sis_crown_cont_status_fk FOREIGN KEY (site_crown_land_status_code) REFERENCES site_crown_land_status_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_docs ADD CONSTRAINT sdoc_about FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_doc_partics ADD CONSTRAINT sdp_classified_by FOREIGN KEY (dpr_code) REFERENCES doc_partic_role_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_doc_partics ADD CONSTRAINT sdp_played_by FOREIGN KEY (sp_id) REFERENCES site_partics(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_doc_partics ADD CONSTRAINT sdp_playing_a_role_i FOREIGN KEY (sdoc_id) REFERENCES site_docs(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_doc_partics ADD CONSTRAINT sdp_psnorg_id FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_partics ADD CONSTRAINT sp_identified_by FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_partics ADD CONSTRAINT sp_identified_by2 FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_partic_roles ADD CONSTRAINT spr_classified_by FOREIGN KEY (pr_code) REFERENCES partic_role_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_partic_roles ADD CONSTRAINT spr_classifying FOREIGN KEY (sp_id) REFERENCES site_partics(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_profiles ADD CONSTRAINT spfk_site_id FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profiles ADD CONSTRAINT sprof_comp_site_partic FOREIGN KEY (completor_partic_id) REFERENCES site_partics(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profiles ADD CONSTRAINT sprof_cont_site_partic FOREIGN KEY (contact_partic_id) REFERENCES site_partics(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profiles ADD CONSTRAINT sprof_rwm_site_partic FOREIGN KEY (rwm_partic_id) REFERENCES site_partics(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profiles ADD CONSTRAINT sprof_site_reg_site_partic FOREIGN KEY (site_reg_partic_id) REFERENCES site_partics(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_profile_land_uses ADD CONSTRAINT spland_lut_fk FOREIGN KEY (lut_code) REFERENCES land_use_cd(code) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profile_land_uses ADD CONSTRAINT spland_sprof_fk FOREIGN KEY (site_id,sprof_date_completed) REFERENCES site_profiles(site_id,date_completed) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_profile_owners ADD CONSTRAINT spown_sprof_fk FOREIGN KEY (site_id,date_completed) REFERENCES site_profiles(site_id,date_completed) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE site_profile_owners ADD CONSTRAINT spown_sp_fk FOREIGN KEY (sp_id) REFERENCES site_partics(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_staffs ADD CONSTRAINT site_staff_employed_as FOREIGN KEY (psnorg_id) REFERENCES people_orgs(id) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE site_subdivisions ADD CONSTRAINT sitesub_part_or_all_of FOREIGN KEY (site_id) REFERENCES sites(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
